<div class="register-container">
  <div class="register-card">
    <div class="register-header">
      <h1>üìù Inscription</h1>
      <p>Cr√©ez votre compte pour acc√©der au syst√®me</p>
    </div>

    <!-- Messages de succ√®s/erreur -->
    <div *ngIf="successMessage" class="alert alert-success">
      ‚úÖ {{ successMessage }}
    </div>

    <div *ngIf="errorMessage" class="alert alert-error">
      ‚ùå {{ errorMessage }}
    </div>

    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="register-form">
      
      <!-- Informations personnelles -->
      <div class="form-section">
        <h3>Informations personnelles</h3>
        
        <div class="form-row">
          <div class="form-group">
            <label for="firstName">Pr√©nom *</label>
            <input
              type="text"
              id="firstName"
              formControlName="firstName"
              [class.invalid]="isFieldInvalid('firstName')"
              placeholder="Jean"
            />
            <span *ngIf="isFieldInvalid('firstName')" class="error-message">
              {{ getFieldError('firstName') }}
            </span>
          </div>

          <div class="form-group">
            <label for="lastName">Nom *</label>
            <input
              type="text"
              id="lastName"
              formControlName="lastName"
              [class.invalid]="isFieldInvalid('lastName')"
              placeholder="Dupont"
            />
            <span *ngIf="isFieldInvalid('lastName')" class="error-message">
              {{ getFieldError('lastName') }}
            </span>
          </div>
        </div>

        <div class="form-group">
          <label for="email">Email *</label>
          <input
            type="email"
            id="email"
            formControlName="email"
            [class.invalid]="isFieldInvalid('email')"
            placeholder="jean.dupont@example.com"
          />
          <span *ngIf="isFieldInvalid('email')" class="error-message">
            {{ getFieldError('email') }}
          </span>
        </div>
      </div>

      <!-- Mot de passe -->
      <div class="form-section">
        <h3>Mot de passe</h3>
        
        <div class="form-group">
          <label for="password">Mot de passe *</label>
          <input
            type="password"
            id="password"
            formControlName="password"
            [class.invalid]="isFieldInvalid('password')"
            placeholder="Minimum 6 caract√®res"
          />
          <span *ngIf="isFieldInvalid('password')" class="error-message">
            {{ getFieldError('password') }}
          </span>
        </div>

        <div class="form-group">
          <label for="confirmPassword">Confirmer le mot de passe *</label>
          <input
            type="password"
            id="confirmPassword"
            formControlName="confirmPassword"
            [class.invalid]="isFieldInvalid('confirmPassword')"
            placeholder="Retapez votre mot de passe"
          />
          <span *ngIf="isFieldInvalid('confirmPassword')" class="error-message">
            {{ getFieldError('confirmPassword') }}
          </span>
        </div>
      </div>

      <!-- R√¥le -->
      <div class="form-section">
        <h3>Type de compte</h3>
        
        <div class="form-group">
          <label for="role">R√¥le *</label>
          <select
            id="role"
            formControlName="role"
            [class.invalid]="isFieldInvalid('role')"
          >
            <option value="">S√©lectionnez un r√¥le</option>
            <option [value]="userRoles.STUDENT">üë®‚Äçüéì √âtudiant</option>
            <option [value]="userRoles.TEACHER">üë®‚Äçüè´ Enseignant</option>
          </select>
          <span *ngIf="isFieldInvalid('role')" class="error-message">
            {{ getFieldError('role') }}
          </span>
        </div>
      </div>

      <!-- Champs sp√©cifiques aux √©tudiants -->
      <div class="form-section" *ngIf="showStudentFields()">
        <h3>Informations √©tudiant</h3>
        
        <div class="form-group">
          <label for="studentId">Num√©ro √©tudiant *</label>
          <input
            type="text"
            id="studentId"
            formControlName="studentId"
            [class.invalid]="isFieldInvalid('studentId')"
            placeholder="STU2024001"
          />
          <span *ngIf="isFieldInvalid('studentId')" class="error-message">
            {{ getFieldError('studentId') }}
          </span>
        </div>
      </div>

      <!-- Champs sp√©cifiques aux enseignants -->
      <div class="form-section" *ngIf="showTeacherFields()">
        <h3>Informations enseignant</h3>
        
        <div class="form-group">
          <label for="employeeId">Num√©ro employ√© *</label>
          <input
            type="text"
            id="employeeId"
            formControlName="employeeId"
            [class.invalid]="isFieldInvalid('employeeId')"
            placeholder="TEACH2024001"
          />
          <span *ngIf="isFieldInvalid('employeeId')" class="error-message">
            {{ getFieldError('employeeId') }}
          </span>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="department">D√©partement</label>
            <input
              type="text"
              id="department"
              formControlName="department"
              placeholder="Math√©matiques"
            />
          </div>

          <div class="form-group">
            <label for="specialization">Sp√©cialisation</label>
            <input
              type="text"
              id="specialization"
              formControlName="specialization"
              placeholder="Alg√®bre"
            />
          </div>
        </div>
      </div>

      <!-- Informations optionnelles -->
      <div class="form-section">
        <h3>Informations compl√©mentaires (optionnel)</h3>
        
        <div class="form-group">
          <label for="address">Adresse</label>
          <input
            type="text"
            id="address"
            formControlName="address"
            placeholder="123 Rue de la Paix, Paris"
          />
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="phoneNumber">T√©l√©phone</label>
            <input
              type="tel"
              id="phoneNumber"
              formControlName="phoneNumber"
              placeholder="+33 6 12 34 56 78"
            />
          </div>

          <div class="form-group">
            <label for="dateOfBirth">Date de naissance</label>
            <input
              type="date"
              id="dateOfBirth"
              formControlName="dateOfBirth"
            />
          </div>
        </div>
      </div>

      <!-- Boutons -->
      <div class="form-actions">
        <button
          type="submit"
          class="btn btn-primary"
          [disabled]="isLoading || registerForm.invalid"
        >
          <span *ngIf="!isLoading">S'inscrire</span>
          <span *ngIf="isLoading">‚è≥ Inscription en cours...</span>
        </button>

        <p class="login-link">
          Vous avez d√©j√† un compte ?
          <a routerLink="/login">Se connecter</a>
        </p>
      </div>
    </form>
  </div>
</div>

