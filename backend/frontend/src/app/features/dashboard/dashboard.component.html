<div class="dashboard-container">
  <div class="container">
    <div class="dashboard-header">
      <h1>{{ welcomeMessage }}</h1>
      <p>Tableau de bord du système de gestion des notes</p>
    </div>

    <div class="loading" *ngIf="isLoading">
      <p>Chargement des données...</p>
    </div>

    <div class="dashboard-content" *ngIf="!isLoading">
      <div class="stats-grid">
        <div 
          class="stat-card" 
          *ngFor="let card of dashboardCards"
          [class]="'stat-card--' + card.color"
          [routerLink]="card.link"
        >
          <div class="stat-card__icon">{{ card.icon }}</div>
          <div class="stat-card__content">
            <h3>{{ card.value }}</h3>
            <p>{{ card.title }}</p>
          </div>
        </div>
      </div>

      <div class="dashboard-actions" *ngIf="currentUser && (currentUser.role === 'TEACHER' || currentUser.role === 'ADMIN')">
        <h2>Actions rapides</h2>
        <div class="actions-grid">
          <a routerLink="/students" class="action-card">
            <div class="action-icon">👥</div>
            <h3>Gérer les étudiants</h3>
            <p>Ajouter, modifier ou consulter les profils étudiants</p>
          </a>
          
          <a routerLink="/grades" class="action-card">
            <div class="action-icon">📝</div>
            <h3>Gérer les notes</h3>
            <p>Saisir et modifier les notes des étudiants</p>
          </a>
          
          <a routerLink="/subjects" class="action-card">
            <div class="action-icon">📚</div>
            <h3>Gérer les matières</h3>
            <p>Configurer les matières et leurs coefficients</p>
          </a>
        </div>
      </div>

      <div class="dashboard-actions" *ngIf="currentUser && currentUser.role === 'STUDENT'">
        <h2>Mes informations</h2>
        <div class="actions-grid">
          <a routerLink="/profile" class="action-card">
            <div class="action-icon">👤</div>
            <h3>Mon profil</h3>
            <p>Consulter et modifier mes informations personnelles</p>
          </a>
          
          <div class="action-card">
            <div class="action-icon">📊</div>
            <h3>Mes statistiques</h3>
            <p>Moyenne générale: {{ stats.averageGrade.toFixed(2) }}/20</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
